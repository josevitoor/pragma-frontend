<tce-container>
  <tce-container-header
    title="Configuração de Estrutura do Projeto"
  ></tce-container-header>
  <main>
    <tce-table
      [id]="'tabela-ConfiguracaoEstruturaProjeto'"
      (pageSizeChange)="pageSize = $event"
      (searchTermChange)="searchTerm = $event"
      (pageChange)="page = $event"
    >
      <div legend>
        <fa-icon icon="edit" class="ml-3"></fa-icon> Editar
        <fa-icon icon="trash" class="ml-3 mr-1"></fa-icon> Excluir
      </div>
      <table
        aria-describedby="Tabela para a listagem de Configuracao Estrutura Projeto"
        content
        class="table table-striped text-center"
      >
        <thead>
          <tr>
            <th></th>
            <th tceSortable="nomeEstrutura" (sort)="onSort($event)">
              Estrutura do Projeto
            </th>
            <th tceSortable="dataInclusao" (sort)="onSort($event)">
              Data de Inclusão
            </th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="
              let item of resources$
                | async
                | paginate
                  : {
                      id: 'tabela-ConfiguracaoEstruturaProjeto',
                      itemsPerPage: pageSize,
                      currentPage: page,
                      totalItems: total$ | async
                    }
            "
          >
            <td></td>
            <td>{{ item.nomeEstrutura }}</td>
            <td>{{ item.dataInclusao | date : "dd/MM/yyyy" }}</td>
            <td>
              <fa-icon
                icon="edit"
                tooltip="Editar"
                [routerLink]="[item.idConfiguracaoEstrutura, 'edit']"
              ></fa-icon>
              <fa-icon
                icon="trash"
                tooltip="Excluir"
                class="ml-2"
                (click)="deleteItem(item.idConfiguracaoEstrutura)"
              ></fa-icon>
            </td>
          </tr>
          <tr *ngIf="(resources$ | async)?.length == 0">
            <td colspan="4">
              Nenhum Configuracao Estrutura Projeto encontrado.
            </td>
          </tr>
        </tbody>
      </table>
    </tce-table>
  </main>
</tce-container>
